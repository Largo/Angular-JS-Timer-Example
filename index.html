<!DOCTYPE html>
<html>
<!--
  Created using jsbin.com
  Source can be edited via http://jsbin.com/guniqusa/3/edit
-->
<head>
<script src="http://code.jquery.com/jquery.min.js"></script>
<link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css" rel="stylesheet" type="text/css" />
<link href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css" rel="stylesheet" type="text/css" />
<script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap.js"></script>

<script src="http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.1/angular.min.js"></script>
  <meta charset="utf-8">
  <title>JS Bin</title>

<style id="jsbin-css">

</style>
</head>
<body ng-app="TimerApp">
 <div class="well" ng-controller="TimerController">
   <h1>{{ model.time }}</h1>
   
   
   <button class="btn" ng-click="clickTime(5*60)">5 Min</button>
   <button class="btn" ng-click="clickTime(15*60)">15 Min</button>
   <button class="btn" ng-click="clickTime(30*60)">30 Min</button>
   <button class="btn" ng-click="clickTime(60*60)">60 Min</button>
   <br>
   <button class="btn" ng-click="stopTimer()">Stop Timer</button>
 </div>
 
<script>
var app = angular.module('TimerApp', []);

function pad(num, size) {
    var s = num+"";
    while (s.length < size) s = "0" + s;
    return s;
}

app.controller('TimerController', function($scope, $timeout) {
  $scope.model = { time : "00:00" };
  $scope.clickTime = function(time) {
    $scope.time = time;
    $scope.parseTime(time);
    $scope.stopTimer();
    $scope.timer = $timeout(countDown, 1000);
  };
  
  $scope.parseTime = function(time) {
    var minutes = Math.floor(time / 60);
    var seconds = time - minutes * 60;
    $scope.displayTime(minutes, seconds);
  };
  
  $scope.displayTime = function(minutes, seconds) {
    $scope.model.time = pad(minutes, 2) + ":" +  pad(seconds, 2);
  };
  
  var countDown = function() {
      $scope.time -= 1;
      $scope.parseTime($scope.time);
     
      $scope.timer = $timeout(countDown, 1000);
  };
  
   $scope.stopTimer = function() {
      if ($scope.timer) {
        $timeout.cancel( $scope.timer); 
      }
  };
});
</script>
</body>
</html>